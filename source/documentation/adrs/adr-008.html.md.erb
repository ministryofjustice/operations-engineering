---
owner_slack: "#operations-engineering-alerts"
title: ADR-002 Sentry Spike Protection
last_reviewed_on: 2023-04-14
review_in: 6 months
---

# ADR-008 Sentry Spike Protection

## Status

âœ… Accepted

## Context

We do not have good visibility over our organisational usage of Sentry. Teams are free to enable whatever features they see fit within our plan and use it as much as they need. We value this freedom and want to preserve it. At the same time, the event and transaction budgets are set on an organisational level and teams do not have visibility over them. We do not want teams to have to worry about any of this. As organisational admins, we want to know when we are reaching the limits of our budgets so we can act accordingly, either investigating and assisting teams, or sending appropriate communications.

There are only two ways to manage quotas - spike protection and per-key rate limiting. Teams are free to set rate limits as they see fit, and we do not change project setups ourselves.

Spike protection would prevent us from using up a certain amount of our quota in a short period of time and we would also get an alert when it has been activated. After it is activated, Sentry will start dropping all subsequent events.

We have carried out a trial of spike protection to understand the impact it would have on BAU usage. We were concerned that as this is a shared tool that spike protection triggered by one project might impact other projects in a negative way. Our trial has confirmed that this is a very low risk so it would be safe to enable spike protection.

[Sentry blog]
[Sentry docs]

## Decision

Spike protection can be enabled.

## Consequences

Spike protection is enabled. Spike protectrion is only one way of protecting quotas on the account. We will also be looking at rate limiting of projects.

[Sentry blog]: https://blog.sentry.io/2018/05/08/event-spike-protection
[Sentry docs]: https://docs.sentry.io/product/accounts/quotas/#spike-protection

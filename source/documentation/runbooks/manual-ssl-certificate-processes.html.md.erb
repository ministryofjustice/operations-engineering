---
title: Create Manual SSL Certificate Processes
last_reviewed_on: 2022-02-23
review_in: 3 months
---

# Create Manual SSL Certificate Processes

These processes are for any Ministry of Justice users (or suppliers) requiring an SSL Certificate.

There are 3 categories of certificate we use at Ministry of Justice:

* AWS Certificate Manager (ACM)/Let’s Encrypt - automated certificate management for modern cloud native software and infrastructure
* Gandi.net - where automated certificate management is not possible
* DigiCert - for legacy GSI domains only (this process is being deprecated)

Where at all practicable we should be looking to utilise automated certificate management. The MoJ Hosting Service is looking at strategy to move consumers to modern certificate management solutions.

This process specifically relates to certificates issued through [Gandi.net]

## Pre-requisites

Before you begin, there are a few pre-requisites:

* A user account for [Gandi.net]
* Access to the [Certificates Google group](https://groups.google.com/a/digital.justice.gov.uk/g/certificates?hl=en-GB)
* Access to the [Certificate Alerts Google group](mailto:certificate_alerts@digital.justice.gov.uk)
* Access to Route53 in the MoJDSD AWS account

Please contact your [administrator](mailto:certificates@digital.justice.gov.uk) to set these up.

## Requesting a new certificate via Gandi.net

1. Users need to complete the [MoJ Hosting Service SSL Certificate Request Form](https://docs.google.com/document/d/14XbWoudZd-t4-J3mDBcrAeafAbqxwvdkV-u3Zf8eLOs/edit?usp=sharing) and return it with the Certificate Signing Request (CSR) (and an authority email approval if not an MoJ employee e.g. 3rd party supplier) to [certificates@digital.justice.gov.uk](mailto:certificates@digital.justice.gov.uk).

2. When the form is received check to see if the certificate already exists in the Gandi.net portal. Sometimes requesters mix up new certs and renewals. If this is a renewal see the renewal steps in this runbook.

3. When the form is received check to see if the domain associated to the request is managed in Route53 in the MoJDSD AWS account. If not, the validation step in the process will need to be carried out by the team that manages the domain. You will need to check with the requester how the 3rd party wants to carry out validation. [There are 3 types of validation](https://docs.gandi.net/en/ssl/common_operations/dcv.html).

**Note - When confirming if we manage the domain, check whether the subdomain record that exists is a delegation i.e. it is Nameserver(NS) type record. If it is there is a high likelihood that the management of the domain is managed by another team. Detail of who manages the domain can be found in the history in the [Certificates Goolge Group](https://groups.google.com/u/1/a/digital.justice.gov.uk/g/certificates?hl=en-GB)

4. Login to Gandi.net. Go to the SSL Certificates page. To start the process click on the "Buy" button.

5. For the question `Where will you install your certificate?` select `Somewhere else` and then click "Next".

6. For the question `What type of certificate do you want?` select `Standard`.

**Note - We only offer "Standard" type certificates as part of our service.**

7. For the question `What do you want to protect?` select the appropriate option for the request, then click "Next". 

**Note - If the request is for 9 or more addresses it may be better to request a wildcard certificate. Discuss with the requester on best approach. If a wildcard is the best option the requester will need to supply a fresh wildcard CSR.**

8. Paste the CSR text into the `CSR` box. Then click "Next". 

**Remember to copy the entire contents of the .csr file, including the lines containing `-----BEGIN CERTIFICATE REQUEST-----` and `-----END CERTIFICATE REQUEST-----`. If there are any issues with the validity of the CSR file you will be notified at this stage. These will need to be rectified before you can proceed. Abandon the process and start again with a new CSR.**

9. Complete the checkout process. Ensure that when you get to the payment options section that you select `Pre-paid account` for the payment method. 

10. If creation has been successful two emails will be sent to the Certificate Alerts Google group. An invoice (which can be ignored), and a Validation email. Click on the link in the validation email to obtain CNAME details that will need to be added in the Hosted Zone in Route53.

11. Create the CNAME record in Route53. Gandi.net will automatically try to pick up this CNAME to confirm that we have ownership of the domain. 

**Note - Any preceeding "_" or trailing "." characters in the CNAME values are extremely important for validation. Missing characters will mean that validation will not be successful.**

12. When validation is complete an email will be sent to the Certificate Alerts Google group. Click on the link in the email to visit Gandi.net and download the new certificate.

13. Email the certificate to the requester along with details of the expiry date. All certificates are valid for 12 months.

## Renewing a new certificate via Gandi.net

We will review the list of Gandi.net certificates and identify any that require renewal 4 weeks prior to expiry (we also get a notification to Certificate Alerts 29 and 14 days prior to expiry).

**Note that we are not responsible for any HMCTS owned certificates. These are typically domains in the format `<application>.<environment>.hmcts.net` or `<application>.<environment>.cjscp.org.uk`. For these no action is required. The contact for these certificates is [opsconfman@hmcts.net](mailto:opsconfman@hmcts.net). That Team has access to all the shared mailboxes and gets all the same notifications for renewals.**

**Note: Other teams have their own AWS Route53 accounts. These are hmcts.net + cjscp.org.uk at [opsconfman@hmcts.net](mailto:opsconfman@hmcts.net), legalservices.gov.uk at LAA, more to be confirmed. Renew the Gandi certificate and send them the CNAME validation details.**

1. Contact the service owner to confirm if renewal is required. If not, allow the certificate to expire. Detail of owners can be found by searching the [certificates@digital.justice.gov.uk Google Group](https://groups.google.com/a/digital.justice.gov.uk/g/certificates?hl=en-GB).

2. If renewal is required request a new Certificate Signing Request (CSR) from the service owner.

3. Follow the [Renewal Process](https://docs.gandi.net/en/ssl/renew/index.html). The renewal process is almost exactly the same as the new certifcate request process i.e. all the email notifications and validation steps are the same.

4. When validation is complete an email will be sent to the Certificate Alerts Google group. Click on the link in the email to visit Gandi.net and download the renewed certificate.

5. Email the certificate to the requester along with details of the expiry date.

## Revoking Gandi.net certificates

Certificates will expire automatically if not renewed. If a certificate doesn’t require renewal you can leave the certificate to expire and no further action is required. You’ll receive a notification to the Certificate Alerts confirming expiry.

If a certificate needs to be revoked before the expiry date then this can be done via [Gandi.net](https://docs.gandi.net/en/ssl/revoke/index.html).

**Note that once a certificate has expired or been revoked it cannot be reinstated. If a certificate is required the process to request a new certificate should be followed. If the certifcate is being allowed to expire or revoked, it may also mean that the domain can be decommissioned in line with our domain decommissioning process (TBD).**

## Costs/Funding information

The costs for Gandi.net certificates are met centrally by Platforms & Architecture. There is no cross charge.

MoJ has a prepaid account with Gandi.net for paying for certificates.

If the account runs low a notification is sent to Certificate Alerts. If that happens contact [Software Asset Management](mailto:SoftwareAssetManagement@justice.gov.uk) to arrange a top-up on the account.

[gandi.net]: https://gandi.net
